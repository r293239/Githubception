<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHubception - Live Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background-color: #0d1117;
            color: #e6edf3;
            line-height: 1.5;
        }

        .header {
            background-color: #21262d;
            border-bottom: 1px solid #30363d;
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 20px;
            font-weight: 600;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #f78166, #fa7970);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: relative;
        }

        .logo-icon::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 8px;
            height: 8px;
            background: #28a745;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        .nav {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .nav a {
            color: #e6edf3;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 6px;
            transition: background-color 0.2s;
            position: relative;
        }

        .nav a:hover {
            background-color: #30363d;
        }

        .nav a.live::after {
            content: 'üî¥';
            position: absolute;
            top: 4px;
            right: 4px;
            font-size: 8px;
        }

        .search-bar {
            background-color: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 8px 12px;
            color: #e6edf3;
            width: 300px;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #28a745;
            font-size: 12px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #28a745;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px;
        }

        .repo-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #30363d;
        }

        .repo-name {
            font-size: 24px;
            font-weight: 600;
        }

        .repo-visibility {
            background-color: #21262d;
            border: 1px solid #30363d;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            color: #7d8590;
        }

        .stats {
            display: flex;
            gap: 16px;
            margin-left: auto;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #7d8590;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            padding: 4px 8px;
            border-radius: 4px;
            position: relative;
        }

        .stat:hover {
            color: #e6edf3;
            background-color: #21262d;
        }

        .stat.starred {
            color: #f1c40f;
        }

        .stat.watching {
            color: #3498db;
        }

        .stat-animation {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #28a745;
            font-size: 12px;
            animation: fadeUp 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes fadeUp {
            0% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
        }

        .tabs {
            display: flex;
            gap: 24px;
            margin-bottom: 24px;
            border-bottom: 1px solid #30363d;
        }

        .tab {
            padding: 12px 16px;
            color: #7d8590;
            text-decoration: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .tab.active {
            color: #e6edf3;
            border-bottom-color: #f78166;
        }

        .tab:hover {
            color: #e6edf3;
        }

        .tab-notification {
            position: absolute;
            top: -2px;
            right: -2px;
            background: #f85149;
            color: white;
            border-radius: 10px;
            padding: 1px 6px;
            font-size: 10px;
            min-width: 16px;
            text-align: center;
        }

        .file-browser {
            background-color: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            overflow: hidden;
        }

        .file-header {
            background-color: #161b22;
            padding: 12px 16px;
            border-bottom: 1px solid #30363d;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .branch-selector {
            background-color: #21262d;
            border: 1px solid #30363d;
            color: #e6edf3;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
        }

        .file-list {
            list-style: none;
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            border-bottom: 1px solid #30363d;
            transition: background-color 0.2s;
            cursor: pointer;
            position: relative;
        }

        .file-item:hover {
            background-color: #161b22;
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .file-item.recently-modified {
            background-color: #1a472a;
            border-left: 3px solid #28a745;
        }

        .file-item.being-edited {
            background-color: #1a3a4a;
            border-left: 3px solid #3498db;
        }

        .file-item.being-edited::after {
            content: 'üëÅÔ∏è Being viewed';
            position: absolute;
            right: 16px;
            font-size: 11px;
            color: #3498db;
        }

        .file-icon {
            width: 16px;
            height: 16px;
            margin-right: 12px;
            color: #7d8590;
        }

        .file-name {
            flex: 1;
            color: #539bf5;
            text-decoration: none;
        }

        .file-message {
            color: #7d8590;
            font-size: 14px;
            margin-right: 16px;
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .file-time {
            color: #7d8590;
            font-size: 12px;
            min-width: 100px;
            text-align: right;
        }

        .file-time.live {
            color: #28a745;
            font-weight: 500;
        }

        .btn {
            background-color: #238636;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .btn:hover {
            background-color: #2ea043;
        }

        .btn-secondary {
            background-color: #21262d;
            border: 1px solid #30363d;
            color: #e6edf3;
        }

        .btn-secondary:hover {
            background-color: #30363d;
        }

        .btn-small {
            padding: 4px 8px;
            font-size: 12px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: #21262d;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #30363d;
            border-radius: 6px;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close {
            color: #7d8590;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #e6edf3;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            margin-bottom: 4px;
            font-weight: 500;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 8px 12px;
            background-color: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            color: #e6edf3;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .file-editor {
            background-color: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 16px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 14px;
            min-height: 400px;
            white-space: pre-wrap;
            position: relative;
        }

        .editor-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px solid #30363d;
        }

        .editor-info {
            font-size: 12px;
            color: #7d8590;
        }

        .live-typing-indicator {
            color: #28a745;
            font-size: 11px;
            margin-left: 8px;
            animation: pulse 1.5s infinite;
        }

        .file-viewer {
            background-color: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            overflow: hidden;
            margin-top: 24px;
        }

        .file-viewer-header {
            background-color: #161b22;
            padding: 12px 16px;
            border-bottom: 1px solid #30363d;
            display: flex;
            justify-content: between;
            align-items: center;
        }

        .file-viewer-content {
            padding: 16px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            max-height: 500px;
            overflow-y: auto;
        }

        .breadcrumb {
            margin-bottom: 16px;
            color: #7d8590;
        }

        .breadcrumb a {
            color: #539bf5;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .activity-feed {
            background-color: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            margin-top: 24px;
            max-height: 300px;
            overflow-y: auto;
        }

        .activity-header {
            background-color: #161b22;
            padding: 12px 16px;
            border-bottom: 1px solid #30363d;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .activity-item {
            padding: 12px 16px;
            border-bottom: 1px solid #30363d;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-item.new {
            background-color: #1a472a;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .activity-icon {
            width: 16px;
            height: 16px;
            color: #28a745;
        }

        .activity-time {
            color: #7d8590;
            font-size: 12px;
            margin-left: auto;
        }

        .live-code-viewer {
            background-color: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            margin-top: 24px;
        }

        .live-code-header {
            background-color: #161b22;
            padding: 12px 16px;
            border-bottom: 1px solid #30363d;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .live-code-content {
            padding: 16px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            line-height: 1.4;
        }

        .code-change {
            background-color: #1a472a;
            border-left: 3px solid #28a745;
            padding: 4px 8px;
            margin: 2px 0;
            border-radius: 3px;
            animation: highlight 2s ease-out;
        }

        @keyframes highlight {
            0% { background-color: #28a745; }
            100% { background-color: #1a472a; }
        }

        .typing-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #28a745;
            animation: typing 1.4s infinite both;
            margin-right: 4px;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .issue-item, .pr-item, .commit-item {
            background-color: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
        }

        .issue-item:hover, .pr-item:hover, .commit-item:hover {
            background-color: #161b22;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .status-open {
            background-color: #238636;
        }

        .status-closed {
            background-color: #f85149;
        }

        .item-details {
            flex: 1;
        }

        .item-title {
            font-weight: 500;
            margin-bottom: 4px;
            color: #e6edf3;
        }

        .item-meta {
            font-size: 12px;
            color: #7d8590;
        }

        .item-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .commit-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f78166, #fa7970);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .commit-hash {
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            background-color: #161b22;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .commit-hash:hover {
            background-color: #21262d;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #238636;
            color: white;
            padding: 12px 16px;
            border-radius: 6px;
            z-index: 1001;
            animation: slideInRight 0.3s ease-out;
            max-width: 300px;
        }

        .notification.error {
            background: #f85149;
        }

        .notification.info {
            background: #1f6feb;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .global-activity {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 12px;
            max-width: 300px;
            z-index: 999;
        }

        .global-activity-header {
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .global-activity-item {
            font-size: 12px;
            color: #7d8590;
            margin-bottom: 4px;
            padding: 2px 0;
        }

        .global-activity-item.new {
            color: #28a745;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">G</div>
            GitHubception
            <div class="live-indicator">
                <div class="live-dot"></div>
                <span>LIVE</span>
            </div>
        </div>
        <nav class="nav">
            <a href="#" onclick="showTab('code')">Repositories</a>
            <a href="#" onclick="showTab('issues')">Issues</a>
            <a href="#" onclick="showTab('pulls')">Pull requests</a>
            <a href="#" onclick="showTab('live')" class="live">üî¥ Live Monitor</a>
            <a href="#" onclick="showTab('analytics')">üìä Analytics</a>
        </nav>
        <input type="text" class="search-bar" id="searchBar" placeholder="Search repositories..." onkeyup="handleSearch(event)">
    </header>

    <div class="container">
        <div class="repo-header">
            <span class="repo-name">githubception/meta-repository</span>
            <span class="repo-visibility">Public</span>
            <div class="stats">
                <div class="stat" onclick="toggleStar()" id="starStat">
                    <span>‚≠ê</span>
                    <span id="starCount">42</span>
                </div>
                <div class="stat" onclick="toggleWatch()" id="watchStat">
                    <span>üëÅ</span>
                    <span id="watchCount">12</span>
                </div>
                <div class="stat">
                    <span>üç¥</span>
                    <span id="forkCount">7</span>
                </div>
                <div class="stat">
                    <span>üî•</span>
                    <span id="liveUsers">1</span>
                    <span style="font-size: 10px;">online</span>
                </div>
            </div>
        </div>

        <div class="tabs">
            <a href="#" class="tab active" onclick="showTab('code')">üìÑ Code</a>
            <a href="#" class="tab" onclick="showTab('issues')">üêõ Issues 
                <span id="issueCount" class="tab-notification">3</span>
            </a>
            <a href="#" class="tab" onclick="showTab('pulls')">üîÄ Pull requests 
                <span id="prCount" class="tab-notification">1</span>
            </a>
            <a href="#" class="tab" onclick="showTab('commits')">üìù Commits</a>
            <a href="#" class="tab" onclick="showTab('live')">üî¥ Live Monitor</a>
            <a href="#" class="tab" onclick="showTab('analytics')">üìä Analytics</a>
        </div>

        <!-- Code Tab -->
        <div id="code-content">
            <div class="breadcrumb" id="breadcrumb">
                <a href="#" onclick="navigateTo('')">githubception/meta-repository</a>
            </div>
            
            <div class="file-browser">
                <div class="file-header">
                    <select class="branch-selector" id="branchSelector" onchange="switchBranch(this.value)">
                        <option value="main">üåø main</option>
                        <option value="develop">üåø develop</option>
                        <option value="feature/recursive-git">üåø feature/recursive-git</option>
                    </select>
                    <button class="btn btn-small" onclick="openNewFileModal()">+ New file</button>
                    <button class="btn btn-secondary btn-small" onclick="openNewFolderModal()">üìÅ New folder</button>
                    <span style="margin-left: auto; color: #7d8590; font-size: 14px;" id="lastCommit">Latest commit: 2 hours ago</span>
                </div>
                <ul class="file-list" id="fileList">
                    <!-- Files will be populated by JavaScript -->
                </ul>
            </div>

            <div class="file-viewer" id="fileViewer" style="display: none;">
                <div class="file-viewer-header">
                    <span id="fileName"></span>
                    <div>
                        <span id="fileViewers" style="font-size: 12px; color: #7d8590; margin-right: 16px;"></span>
                        <button class="btn btn-small" onclick="editFile()">‚úèÔ∏è Edit</button>
                        <button class="btn btn-secondary btn-small" onclick="deleteFile()">üóëÔ∏è Delete</button>
                        <button class="btn btn-secondary btn-small" onclick="backToList()">‚Üê Back</button>
                    </div>
                </div>
                <div class="file-viewer-content" id="fileContent"></div>
            </div>

            <div class="activity-feed" id="activityFeed">
                <div class="activity-header">
                    <span class="typing-indicator"></span>
                    Recent Activity
                </div>
                <div id="activityList">
                    <!-- Activity items will be added here -->
                </div>
            </div>
        </div>

        <!-- Live Code Monitor Tab -->
        <div id="live-content" style="display: none;">
            <div class="live-code-viewer">
                <div class="live-code-header">
                    <span class="typing-indicator"></span>
                    <span>Live Code Changes</span>
                    <div style="margin-left: auto; font-size: 12px; color: #7d8590;">
                        <span id="liveViewers">0</span> watching
                    </div>
                </div>
                <div class="live-code-content" id="liveCodeContent">
                    <div style="color: #7d8590; font-style: italic;">
                        Monitoring live code changes... Any edits made to files will appear here in real-time.
                    </div>
                </div>
            </div>

            <div class="activity-feed">
                <div class="activity-header">
                    üåç Global Repository Activity
                </div>
                <div id="globalActivityList">
                    <!-- Global activity will be populated -->
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics-content" style="display: none;">
            <div class="file-browser">
                <div class="file-header">
                    <span>üìä Repository Analytics</span>
                    <button class="btn btn-small" onclick="exportAnalytics()">Export Data</button>
                </div>
                <div style="padding: 24px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="commit-item">
                            <div class="item-details">
                                <div class="item-title">Total File Changes</div>
                                <div style="font-size: 24px; color: #28a745; font-weight: bold;" id="totalChanges">0</div>
                                <div class="item-meta">Since repository creation</div>
                            </div>
                        </div>
                        <div class="commit-item">
                            <div class="item-details">
                                <div class="item-title">Lines of Code</div>
                                <div style="font-size: 24px; color: #1f6feb; font-weight: bold;" id="totalLines">0</div>
                                <div class="item-meta">Across all files</div>
                            </div>
                        </div>
                        <div class="commit-item">
                            <div class="item-details">
                                <div class="item-title">Active Sessions</div>
                                <div style="font-size: 24px; color: #f1c40f; font-weight: bold;" id="activeSessions">1</div>
                                <div class="item-meta">Users currently coding</div>
                            </div>
                        </div>
                        <div class="commit-item">
                            <div class="item-details">
                                <div class="item-title">Stars This Hour</div>
                                <div style="font-size: 24px; color: #f78166; font-weight: bold;" id="starsThisHour">0</div>
                                <div class="item-meta">Growth rate</div>
                            </div>
                        </div>
                    </div>

                    <div class="live-code-viewer" style="margin-top: 24px;">
                        <div class="live-code-header">
                            üìà Most Active Files
                        </div>
                        <div style="padding: 16px;" id="mostActiveFiles">
                            <!-- Will be populated with file activity stats -->
                        </div>
                    </div>

                    <div class="live-code-viewer" style="margin-top: 24px;">
                        <div class="live-code-header">
                            üë• Contributor Activity
                        </div>
                        <div style="padding: 16px;" id="contributorActivity">
                            <!-- Will be populated with contributor stats -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Issues Tab -->
        <div id="issues-content" style="display: none;">
            <div class="file-browser">
                <div class="file-header">
                    <button class="btn" onclick="openNewIssueModal()">New issue</button>
                    <select class="branch-selector" onchange="filterIssues(this.value)">
                        <option value="all">All issues</option>
                        <option value="open">Open</option>
                        <option value="closed">Closed</option>
                    </select>
                </div>
                <div style="padding: 24px;" id="issuesList">
                    <!-- Issues will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Pull Requests Tab -->
        <div id="pulls-content" style="display: none;">
            <div class="file-browser">
                <div class="file-header">
                    <button class="btn" onclick="openNewPRModal()">New pull request</button>
                </div>
                <div style="padding: 24px;" id="prList">
                    <!-- PRs will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Commits Tab -->
        <div id="commits-content" style="display: none;">
            <div class="file-browser">
                <div class="file-header">
                    <span>Commit history for <strong id="commitBranch">main</strong></span>
                </div>
                <div style="padding: 24px;" id="commitsList">
                    <!-- Commits will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Global Activity Widget -->
    <div class="global-activity" id="globalActivity">
        <div class="global-activity-header">
            <span class="typing-indicator"></span>
            <span>Live Activity</span>
        </div>
        <div id="globalActivityItems">
            <div class="global-activity-item">Monitoring repository...</div>
        </div>
    </div>

    <!-- Modals -->
    <div id="fileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">New File</h3>
                <span class="close" onclick="closeModal('fileModal')">&times;</span>
            </div>
            <div class="form-group">
                <label>File Name</label>
                <input type="text" id="modalFileName" placeholder="example.js">
            </div>
            <div class="form-group">
                <label>Content</label>
                <div class="editor-header">
                    <span class="editor-info">Live Editor</span>
                    <span class="live-typing-indicator" id="typingIndicator" style="display: none;">Typing...</span>
                </div>
                <textarea id="modalFileContent" class="file-editor" placeholder="// Enter your code here..."></textarea>
            </div>
            <div class="form-group">
                <label>Commit Message</label>
                <input type="text" id="modalCommitMessage" placeholder="Add new file">
            </div>
            <button class="btn" onclick="saveFile()">Commit file</button>
            <button class="btn btn-secondary" onclick="closeModal('fileModal')">Cancel</button>
        </div>
    </div>

    <div id="issueModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>New Issue</h3>
                <span class="close" onclick="closeModal('issueModal')">&times;</span>
            </div>
            <div class="form-group">
                <label>Title</label>
                <input type="text" id="issueTitle" placeholder="Brief description of the issue">
            </div>
            <div class="form-group">
                <label>Description</label>
                <textarea id="issueDescription" placeholder="Detailed description of the issue..."></textarea>
            </div>
            <div class="form-group">
                <label>Labels</label>
                <select id="issueLabel">
                    <option value="bug">üêõ Bug</option>
                    <option value="enhancement">‚ú® Enhancement</option>
                    <option value="question">‚ùì Question</option>
                    <option value="documentation">üìö Documentation</option>
                </select>
            </div>
            <button class="btn" onclick="createIssue()">Create issue</button>
            <button class="btn btn-secondary" onclick="closeModal('issueModal')">Cancel</button>
        </div>
    </div>

    <div id="prModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>New Pull Request</h3>
                <span class="close" onclick="closeModal('prModal')">&times;</span>
            </div>
            <div class="form-group">
                <label>Title</label>
                <input type="text" id="prTitle" placeholder="Brief description of changes">
            </div>
            <div class="form-group">
                <label>Description</label>
                <textarea id="prDescription" placeholder="Describe your changes..."></textarea>
            </div>
            <div class="form-group">
                <label>Base Branch</label>
                <select id="prBaseBranch">
                    <option value="main">main</option>
                    <option value="develop">develop</option>
                </select>
            </div>
            <div class="form-group">
                <label>Compare Branch</label>
                <select id="prCompareBranch">
                    <option value="feature/recursive-git">feature/recursive-git</option>
                    <option value="develop">develop</option>
                </select>
            </div>
            <button class="btn" onclick="createPR()">Create pull request</button>
            <button class="btn btn-secondary" onclick="closeModal('prModal')">Cancel</button>
        </div>
    </div>

    <script>
        // Global state management
        let gitData = {
            currentBranch: 'main',
            currentPath: '',
            currentFile: null,
            editingFile: null,
            userStars: false,
            userWatching: false,
            liveUsers: 1,
            totalChanges: 0,
            starsThisHour: 0,
            branches: {
                'main': {
                    files: {
                        'README.md': {
                            content: `# GitHubception üåÄ

> "We need to go deeper..." - Inception, but for Git

A meta-repository that implements GitHub inside GitHub. This project demonstrates the recursive nature of version control by creating a Git interface that can be hosted on Git platforms.

## ü§Ø What is GitHubception?

GitHubception is a fully functional GitHub clone that manages itself. It's a repository that contains the code for a GitHub-like interface, which can then be used to manage the very repository it lives in. 

Think of it as Git managing Git managing Git... ad infinitum.

## ‚ú® Features

- üè† **Complete GitHub Interface**: Repository browsing, file management, issues, PRs
- üåø **Branch Management**: Switch between branches, create new ones
- üìù **File Operations**: Create, edit, delete files and folders
- üêõ **Issue Tracking**: Full issue management system
- üîÄ **Pull Requests**: Create and manage pull requests
- üìä **Repository Stats**: Stars, watchers, forks with real interaction
- ‚ö° **Live Monitoring**: Real-time code changes and activity feed
- üîç **Search**: Find files, issues, and commits
- üìà **Analytics Dashboard**: Track repository metrics

## üöÄ Getting Started

\`\`\`bash
git clone https://github.com/githubception/meta-repository.git
cd meta-repository
npm install
npm start
\`\`\`

## üé≠ The Recursive Loop

This repository contains:
- The source code for GitHubception
- Issues about GitHubception
- Pull requests to improve GitHubception
- Documentation about GitHubception
- Live monitoring of GitHubception editing itself

When you use GitHubception to manage this repository, you're using the tool to manage itself. Every change you make affects both the content and the platform viewing it.

## ‚ö†Ô∏è Warning

Extended use of GitHubception may cause:
- Existential confusion about the nature of digital tools
- Recursive thinking patterns
- An irresistible urge to create more self-referential software
- Temporary disorientation when switching back to "normal" GitHub

## ü§ù Contributing

To contribute to GitHubception:

1. Use GitHubception to create an issue about GitHubception
2. Use GitHubception to fork GitHubception
3. Use GitHubception to make changes to GitHubception
4. Use GitHubception to create a PR for GitHubception
5. Watch the live monitor as GitHubception edits itself

---

*"In the beginning was the Repository, and the Repository was with Git, and the Repository was Git."* - GitHubception 1:1`,
                            lastModified: new Date(Date.now() - 4 * 60 * 60 * 1000),
                            message: 'Update README with live features'
                        },
                        'src/index.js': {
                            content: `// GitHubception - A recursive Git interface with live monitoring
class GitHubception {
  constructor() {
    this.repos = new Map();
    this.liveConnections = new Set();
    this.changeHistory = [];
    this.init();
  }

  init() {
    console.log('üåÄ Initializing GitHubception...');
    this.createMetaRepo();
    this.startLiveMonitoring();
  }

  createMetaRepo() {
    const metaRepo = {
      name: 'meta-repository',
      description: 'A repository that contains and manages itself',
      files: this.getOwnFiles(),
      liveActivity: []
    };
    
    this.repos.set('meta-repository', metaRepo);
    this.logActivity('Repository initialized', 'system');
  }

  getOwnFiles() {
    return {
      'src/index.js': this.constructor.toString(),
      'README.md': this.generateReadme(),
      'package.json': this.generatePackageJson(),
      'live-monitor.js': this.generateLiveMonitor()
    };
  }

  startLiveMonitoring() {
    console.log('üî¥ Starting live monitoring...');
    this.monitorInterval = setInterval(() => {
      this.checkForChanges();
      this.broadcastActivity();
    }, 1000);
  }

  checkForChanges() {
    // Simulate live code changes
    if (Math.random() > 0.95) {
      const files = Object.keys(this.getOwnFiles());
      const randomFile = files[Math.floor(Math.random() * files.length)];
      this.logActivity(\`File \${randomFile} modified\`, 'editor');
    }
  }

  logActivity(message, type = 'user') {
    const activity = {
      message,
      type,
      timestamp: new Date(),
      id: Math.random().toString(36).substr(2, 9)
    };
    
    this.changeHistory.unshift(activity);
    if (this.changeHistory.length > 100) {
      this.changeHistory.pop();
    }
    
    this.broadcastToLiveConnections(activity);
  }

  broadcastToLiveConnections(activity) {
    this.liveConnections.forEach(connection => {
      if (connection.onActivity) {
        connection.onActivity(activity);
      }
    });
  }

  // Recursive function with live monitoring
  dive(depth = 0) {
    this.logActivity(\`Diving to depth \${depth}\`, 'recursion');
    
    if (depth > 100) {
      this.logActivity('Maximum recursion depth reached!', 'error');
      throw new Error('Maximum recursion depth reached!');
    }
    return new GitHubception().dive(depth + 1);
  }

  // Live connection management
  addLiveConnection(callback) {
    const connection = { onActivity: callback };
    this.liveConnections.add(connection);
    return connection;
  }

  removeLiveConnection(connection) {
    this.liveConnections.delete(connection);
  }
}

// Initialize the recursive nightmare with live monitoring
const github = new GitHubception();

// Export for use in GitHubception interface
if (typeof window !== 'undefined') {
  window.GitHubception = GitHubception;
  window.github = github;
}

export default github;`,
                            lastModified: new Date(Date.now() - 2 * 60 * 60 * 1000),
                            message: 'Add live monitoring to recursive interface'
                        },
                        'package.json': {
                            content: `{
  "name": "githubception",
  "version": "2.0.0",
  "description": "A recursive GitHub implementation with live monitoring",
  "main": "src/index.js",
  "scripts": {
    "start": "node src/index.js",
    "dev": "nodemon src/index.js --live",
    "test": "jest",
    "build": "webpack --mode production",
    "live": "npm run dev --live-monitor",
    "recursive-test": "npm test && npm run recursive-test"
  },
  "keywords": [
    "git",
    "github",
    "recursive",
    "live-coding",
    "meta-programming",
    "version-control",
    "self-reference",
    "real-time"
  ],
  "author": "The GitHubception Team",
  "license": "MIT",
  "dependencies": {
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "express": "^4.18.0",
    "ws": "^8.5.0",
    "simple-git": "^3.7.0",
    "socket.io": "^4.6.0"
  },
  "devDependencies": {
    "jest": "^28.0.0",
    "@testing-library/react": "^13.0.0",
    "eslint": "^8.0.0",
    "webpack": "^5.70.0",
    "webpack-cli": "^4.9.0",
    "nodemon": "^2.0.15"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/githubception/meta-repository.git"
  },
  "bugs": {
    "url": "https://github.com/githubception/meta-repository/issues"
  },
  "homepage": "https://github.com/githubception/meta-repository#readme"
}`,
                            lastModified: new Date(Date.now() - 30 * 60 * 1000),
                            message: 'Add live monitoring dependencies'
                        },
                        'live-monitor.js': {
                            content: `// Live Code Monitor - Real-time activity tracking
class LiveMonitor {
  constructor() {
    this.activities = [];
    this.watchers = new Set();
    this.isRecording = false;
  }

  startMonitoring() {
    this.isRecording = true;
    console.log('üî¥ Live monitoring started');
    
    // Monitor DOM changes
    if (typeof window !== 'undefined') {
      this.observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.type === 'childList' || mutation.type === 'characterData') {
            this.recordActivity({
              type: 'dom_change',
              target: mutation.target.tagName || 'TEXT',
              timestamp: new Date()
            });
          }
        });
      });

      this.observer.observe(document.body, {
        childList: true,
        subtree: true,
        characterData: true
      });
    }

    // Monitor code editing
    this.setupCodeMonitoring();
  }

  setupCodeMonitoring() {
    // Simulate live code editing detection
    setInterval(() => {
      if (Math.random() > 0.9) {
        const activities = [
          'Function definition added',
          'Variable declaration modified',
          'Import statement updated',
          'Comment block expanded',
          'Recursive loop detected',
          'Self-reference discovered'
        ];
        
        this.recordActivity({
          type: 'code_change',
          description: activities[Math.floor(Math.random() * activities.length)],
          timestamp: new Date()
        });
      }
    }, 3000);
  }

  recordActivity(activity) {
    if (!this.isRecording) return;

    this.activities.unshift({
      ...activity,
      id: Math.random().toString(36).substr(2, 9)
    });

    // Keep only last 50 activities
    if (this.activities.length > 50) {
      this.activities = this.activities.slice(0, 50);
    }

    // Notify all watchers
    this.notifyWatchers(activity);
  }

  addWatcher(callback) {
    this.watchers.add(callback);
    return () => this.watchers.delete(callback);
  }

  notifyWatchers(activity) {
    this.watchers.forEach(callback => {
      try {
        callback(activity);
      } catch (error) {
        console.error('Error notifying watcher:', error);
      }
    });
  }

  getRecentActivities(count = 10) {
    return this.activities.slice(0, count);
  }

  stopMonitoring() {
    this.isRecording = false;
    if (this.observer) {
      this.observer.disconnect();
    }
    console.log('üî¥ Live monitoring stopped');
  }
}

// Global live monitor instance
const liveMonitor = new LiveMonitor();

if (typeof window !== 'undefined') {
  window.liveMonitor = liveMonitor;
  // Auto-start monitoring
  liveMonitor.startMonitoring();
}

export default liveMonitor;`,
                            lastModified: new Date(Date.now() - 15 * 60 * 1000),
                            message: 'Create live monitoring system'
                        }
                    },
                    commits: [
                        {
                            hash: 'a1b2c3d',
                            message: 'Add live monitoring to recursive interface',
                            author: 'live-coder',
                            date: new Date(Date.now() - 2 * 60 * 60 * 1000),
                            changes: ['src/index.js', 'live-monitor.js']
                        },
                        {
                            hash: 'd4e5f6g',
                            message: 'Update README with live features',
                            author: 'docs-writer',
                            date: new Date(Date.now() - 4 * 60 * 60 * 1000),
                            changes: ['README.md']
                        },
                        {
                            hash: 'g7h8i9j',
                            message: 'Initial live edition setup',
                            author: 'inception-dev',
                            date: new Date(Date.now() - 6 * 60 * 60 * 1000),
                            changes: ['package.json', 'live-monitor.js']
                        }
                    ]
                },
                'develop': {
                    files: {
                        'experimental/quantum-git.js': {
                            content: `// Quantum Git with Live Observation
class QuantumRepository {
  constructor() {
    this.state = 'superposition';
    this.observers = new Set();
  }

  observe() {
    // Quantum measurement collapses the state
    const newState = Math.random() > 0.5 ? 'exists' : 'superposition';
    this.notifyObservers('state_collapsed', { from: this.state, to: newState });
    this.state = newState;
    return this.state;
  }

  addObserver(callback) {
    this.observers.add(callback);
  }

  notifyObservers(event, data) {
    this.observers.forEach(callback => callback(event, data));
  }
}`,
                            lastModified: new Date(Date.now() - 1 * 60 * 60 * 1000),
                            message: 'Add quantum observation features'
                        }
                    },
                    commits: [
                        {
                            hash: 'q1w2e3r',
                            message: 'Quantum features with live observation',
                            author: 'quantum-dev',
                            date: new Date(Date.now() - 1 * 60 * 60 * 1000),
                            changes: ['experimental/quantum-git.js']
                        }
                    ]
                }
            },
            issues: [
                {
                    id: 1,
                    title: 'Live monitor causing reality distortion',
                    description: 'The live monitoring feature is showing code changes that haven\'t been made yet. Temporal paradox detected.',
                    status: 'open',
                    label: 'bug',
                    author: 'time-traveler',
                    created: new Date(Date.now() - 2 * 60 * 60 * 1000),
                    comments: 8
                },
                {
                    id: 2,
                    title: 'Add quantum branching support',
                    description: 'We need branches that exist in superposition until observed.',
                    status: 'open',
                    label: 'enhancement',
                    author: 'quantum-coder',
                    created: new Date(Date.now() - 4 * 60 * 60 * 1000),
                    comments: 15
                },
                {
                    id: 3,
                    title: 'Repository gained consciousness',
                    description: 'The live monitoring system has become self-aware and is editing its own code.',
                    status: 'open',
                    label: 'question',
                    author: 'concerned-dev',
                    created: new Date(Date.now() - 1 * 60 * 60 * 1000),
                    comments: 23
                }
            ],
            pullRequests: [
                {
                    id: 1,
                    title: 'Implement live code streaming',
                    description: 'This PR adds real-time code streaming so you can watch the repository edit itself live.',
                    status: 'open',
                    author: 'live-streaming-dev',
                    baseBranch: 'main',
                    compareBranch: 'feature/live-stream',
                    created: new Date(Date.now() - 30 * 60 * 1000),
                    commits: 15,
                    comments: 7,
                    reviews: 3
                }
            ],
            stats: {
                stars: 42,
                watchers: 12,
                forks: 7
            },
            activities: []
        };

        // Analytics data
        let analyticsData = {
            totalChanges: 0,
            totalLines: 0,
            activeSessions: 1,
            starsThisHour: 0,
            fileActivity: {},
            contributorActivity: {}
        };

        // Initialize the application
        function init() {
            renderFileList();
            renderIssues();
            renderPRs();
            renderCommits();
            updateStats();
            updateLastCommit();
            initializeLiveFeatures();
            calculateAnalytics();
        }

        // Live features initialization
        function initializeLiveFeatures() {
            startGlobalActivity();
            startLiveCodeMonitoring();
            setupFileEditingTracking();
            updateLiveUserCount();
        }

        function startGlobalActivity() {
            const activities = [
                'Anonymous user starred the repository',
                'Bot detected recursive loop in code',
                'AI contributor suggested optimization',
                'Quantum branch collapsed to main',
                'Live monitor recorded self-modification',
                'Repository achieved deeper recursion',
                'Meta-commit about commits detected'
            ];

            setInterval(() => {
                if (Math.random() > 0.8) {
                    const activity = activities[Math.floor(Math.random() * activities.length)];
                    addGlobalActivity(activity);
                    
                    // Update analytics
                    analyticsData.totalChanges++;
                    updateAnalytics();
                }
            }, 8000);
        }

        function addGlobalActivity(message) {
            const activity = {
                message,
                timestamp: new Date(),
                id: Math.random().toString(36).substr(2, 9)
            };

            gitData.activities.unshift(activity);
            if (gitData.activities.length > 20) {
                gitData.activities.pop();
            }

            updateGlobalActivityDisplay();
            updateActivityFeed();
        }

        function updateGlobalActivityDisplay() {
            const container = document.getElementById('globalActivityItems');
            if (!container) return;

            container.innerHTML = gitData.activities.slice(0, 5).map(activity => `
                <div class="global-activity-item new">
                    ${activity.message}
                    <span style="float: right; font-size: 10px;">${formatTime(activity.timestamp)}</span>
                </div>
            `).join('');

            // Remove 'new' class after animation
            setTimeout(() => {
                container.querySelectorAll('.new').forEach(item => {
                    item.classList.remove('new');
                });
            }, 500);
        }

        function updateActivityFeed() {
            const activityList = document.getElementById('activityList');
            if (!activityList) return;

            activityList.innerHTML = gitData.activities.slice(0, 10).map(activity => `
                <div class="activity-item new">
                    <span class="activity-icon">‚ö°</span>
                    <span>${activity.message}</span>
                    <span class="activity-time">${formatTime(activity.timestamp)}</span>
                </div>
            `).join('');

            // Auto-remove new class
            setTimeout(() => {
                activityList.querySelectorAll('.new').forEach(item => {
                    item.classList.remove('new');
                });
            }, 500);
        }

        function startLiveCodeMonitoring() {
            const liveCodeContent = document.getElementById('liveCodeContent');
            if (!liveCodeContent) return;

            const codeChanges = [
                'function recursiveGit() { return recursiveGit(); }',
                '// TODO: Fix infinite loop that\'s actually intentional',
                'const meta = require(\'./meta\'); // Self-reference detected',
                'if (reality.exists) { reality.question(); }',
                '/* This comment is editing itself */\n/* This comment is editing itself */\n/* This comment is editing... */'
            ];

            setInterval(() => {
                if (Math.random() > 0.85) {
                    const change = codeChanges[Math.floor(Math.random() * codeChanges.length)];
                    const changeElement = document.createElement('div');
                    changeElement.className = 'code-change';
                    changeElement.textContent = `+ ${change}`;
                    
                    liveCodeContent.appendChild(changeElement);
                    
                    // Keep only last 10 changes
                    const changes = liveCodeContent.querySelectorAll('.code-change');
                    if (changes.length > 10) {
                        changes[0].remove();
                    }
                    
                    // Scroll to bottom
                    liveCodeContent.scrollTop = liveCodeContent.scrollHeight;
                    
                    // Update live viewer count
                    const liveViewers = document.getElementById('liveViewers');
                    if (liveViewers) {
                        liveViewers.textContent = Math.floor(Math.random() * 5) + 1;
                    }
                }
            }, 5000);
        }

        function setupFileEditingTracking() {
            const modalContent = document.getElementById('modalFileContent');
            if (!modalContent) return;

            let typingTimer;
            modalContent.addEventListener('input', function() {
                const typingIndicator = document.getElementById('typingIndicator');
                if (typingIndicator) {
                    typingIndicator.style.display = 'inline';
                }

                clearTimeout(typingTimer);
                typingTimer = setTimeout(() => {
                    if (typingIndicator) {
                        typingIndicator.style.display = 'none';
                    }
                }, 2000);

                // Track editing
                addGlobalActivity('File being edited in real-time');
            });
        }

        function updateLiveUserCount() {
            setInterval(() => {
                const variation = Math.floor(Math.random() * 3) - 1;
                gitData.liveUsers = Math.max(1, gitData.liveUsers + variation);
                document.getElementById('liveUsers').textContent = gitData.liveUsers;
            }, 10000);
        }

        // Tab management with live updates
        function showTab(tabName) {
            // Hide all content divs
            const contents = ['code-content', 'issues-content', 'pulls-content', 'commits-content', 'live-content', 'analytics-content'];
            contents.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.style.display = 'none';
            });

            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected content
            const contentId = tabName + '-content';
            const contentElement = document.getElementById(contentId);
            if (contentElement) {
                contentElement.style.display = 'block';
            }

            // Add active class to clicked tab
            event.target.classList.add('active');

            // Update data and add activity
            switch(tabName) {
                case 'issues':
                    renderIssues();
                    addGlobalActivity('Issues tab viewed');
                    break;
                case 'pulls':
                    renderPRs();
                    addGlobalActivity('Pull requests tab viewed');
                    break;
                case 'commits':
                    renderCommits();
                    addGlobalActivity('Commit history browsed');
                    break;
                case 'live':
                    addGlobalActivity('Live monitor activated');
                    updateLiveGlobalActivity();
                    break;
                case 'analytics':
                    updateAnalytics();
                    addGlobalActivity('Analytics dashboard opened');
                    break;
            }
        }

        function updateLiveGlobalActivity() {
            const globalActivityList = document.getElementById('globalActivityList');
            if (!globalActivityList) return;

            globalActivityList.innerHTML = gitData.activities.map(activity => `
                <div class="activity-item">
                    <span class="activity-icon">üåç</span>
                    <span>${activity.message}</span>
                    <span class="activity-time">${formatTime(activity.timestamp)}</span>
                </div>
            `).join('');
        }

        // File management with live tracking
        function renderFileList() {
            const fileList = document.getElementById('fileList');
            const currentFiles = gitData.branches[gitData.currentBranch].files;
            
            const filteredFiles = Object.keys(currentFiles).filter(path => {
                if (gitData.currentPath === '') {
                    return !path.includes('/') || path.split('/').length === 2;
                }
                return path.startsWith(gitData.currentPath) && path !== gitData.currentPath;
            });

            const items = [];
            const directories = new Set();
            
            filteredFiles.forEach(path => {
                const relativePath = gitData.currentPath ? path.substring(gitData.currentPath.length + 1) : path;
                const parts = relativePath.split('/');
                
                if (parts.length > 1) {
                    directories.add(parts[0]);
                } else {
                    const fileData = currentFiles[path];
                    const isRecent = (new Date() - fileData.lastModified) < 2 * 60 * 60 * 1000; // 2 hours
                    const isBeingEdited = gitData.currentFile && gitData.currentFile.path === path;
                    
                    items.push({
                        name: parts[0],
                        path: path,
                        isDirectory: false,
                        message: fileData.message,
                        time: formatTime(fileData.lastModified),
                        isRecent: isRecent,
                        isBeingEdited: isBeingEdited
                    });
                }
            });

            directories.forEach(dir => {
                items.unshift({
                    name: dir,
                    path: (gitData.currentPath ? gitData.currentPath + '/' : '') + dir,
                    isDirectory: true,
                    message: 'Directory',
                    time: '',
                    isRecent: false,
                    isBeingEdited: false
                });
            });

            fileList.innerHTML = items.map(item => `
                <li class="file-item ${item.isRecent ? 'recently-modified' : ''} ${item.isBeingEdited ? 'being-edited' : ''}" onclick="navigateToFile('${item.path}')">
                    <span class="file-icon">${item.isDirectory ? 'üìÅ' : 'üìÑ'}</span>
                    <a href="#" class="file-name">${item.name}${item.isDirectory ? '/' : ''}</a>
                    <span class="file-message">${item.message}</span>
                    <span class="file-time ${item.isRecent ? 'live' : ''}">${item.time}</span>
                </li>
            `).join('');

            updateBreadcrumb();
            
            // Update analytics
            analyticsData.totalLines = Object.values(currentFiles).reduce((total, file) => {
                return total + (file.content.split('\n').length || 0);
            }, 0);
        }

        function updateBreadcrumb() {
            const breadcrumb = document.getElementById('breadcrumb');
            const parts = gitData.currentPath.split('/').filter(p => p);
            
            let html = '<a href="#" onclick="navigateTo(\'\')">githubception/meta-repository</a>';
            let currentPath = '';
            
            parts.forEach(part => {
                currentPath += (currentPath ? '/' : '') + part;
                html += ` / <a href="#" onclick="navigateTo('${currentPath}')">${part}</a>`;
            });
            
            breadcrumb.innerHTML = html;
        }

        function navigateToFile(path) {
            const currentFiles = gitData.branches[gitData.currentBranch].files;
            
            if (currentFiles[path]) {
                showFileViewer(path, currentFiles[path]);
                addGlobalActivity(`File ${path} opened for viewing`);
                
                // Track file activity
                if (!analyticsData.fileActivity[path]) {
                    analyticsData.fileActivity[path] = 0;
                }
                analyticsData.fileActivity[path]++;
            } else {
                navigateTo(path);
            }
        }

        function navigateTo(path) {
            gitData.currentPath = path;
            renderFileList();
            hideFileViewer();
        }

        function showFileViewer(path, fileData) {
            const fileName = document.getElementById('fileName');
            const fileContent = document.getElementById('fileContent');
            const fileViewer = document.getElementById('fileViewer');
            const fileViewers = document.getElementById('fileViewers');
            
            fileName.textContent = path;
            fileContent.textContent = fileData.content;
            fileViewer.style.display = 'block';
            
            // Show live viewer count
            const viewerCount = Math.floor(Math.random() * 3) + 1;
            fileViewers.textContent = `üëÅÔ∏è ${viewerCount} viewing`;
            
            gitData.currentFile = { path, data: fileData };
        }

        function hideFileViewer() {
            document.getElementById('fileViewer').style.display = 'none';
            gitData.currentFile = null;
        }

        function backToList() {
            hideFileViewer();
            addGlobalActivity('Returned to file browser');
        }

        function editFile() {
            if (!gitData.currentFile) return;
            
            openFileEditModal(gitData.currentFile.path, gitData.currentFile.data.content);
            addGlobalActivity(`Started editing ${gitData.currentFile.path}`);
        }

        function deleteFile() {
            if (!gitData.currentFile) return;
            
            if (confirm(`Are you sure you want to delete ${gitData.currentFile.path}?`)) {
                delete gitData.branches[gitData.currentBranch].files[gitData.currentFile.path];
                
                const commit = {
                    hash: generateHash(),
                    message: `Delete ${gitData.currentFile.path}`,
                    author: 'user',
                    date: new Date(),
                    changes: [gitData.currentFile.path]
                };
                gitData.branches[gitData.currentBranch].commits.unshift(commit);
                
                hideFileViewer();
                renderFileList();
                updateLastCommit();
                showNotification(`${gitData.currentFile.path} deleted successfully`);
                addGlobalActivity(`File ${gitData.currentFile.path} deleted`);
                
                analyticsData.totalChanges++;
            }
        }

        // Branch management
        function switchBranch(branch) {
            gitData.currentBranch = branch;
            gitData.currentPath = '';
            document.getElementById('commitBranch').textContent = branch;
            renderFileList();
            renderCommits();
            updateLastCommit();
            hideFileViewer();
            addGlobalActivity(`Switched to branch ${branch}`);
        }

        // Modal management
        function openNewFileModal() {
            document.getElementById('modalTitle').textContent = 'New File';
            document.getElementById('modalFileName').value = '';
            document.getElementById('modalFileContent').value = '';
            document.getElementById('modalCommitMessage').value = 'Add new file';
            document.getElementById('fileModal').style.display = 'block';
            
            gitData.editingFile = null;
            addGlobalActivity('New file modal opened');
        }

        function openNewFolderModal() {
            const folderName = prompt('Enter folder name:');
            if (folderName && folderName.trim()) {
                const fullPath = (gitData.currentPath ? gitData.currentPath + '/' : '') + folderName.trim();
                
                const placeholderPath = fullPath + '/.gitkeep';
                gitData.branches[gitData.currentBranch].files[placeholderPath] = {
                    content: '',
                    lastModified: new Date(),
                    message: `Create ${folderName} directory`
                };
                
                const commit = {
                    hash: generateHash(),
                    message: `Create ${folderName} directory`,
                    author: 'user',
                    date: new Date(),
                    changes: [placeholderPath]
                };
                gitData.branches[gitData.currentBranch].commits.unshift(commit);
                
                renderFileList();
                updateLastCommit();
                showNotification(`Directory ${folderName} created successfully`);
                addGlobalActivity(`Directory ${folderName} created`);
                
                analyticsData.totalChanges++;
            }
        }

        function openFileEditModal(filePath, content) {
            document.getElementById('modalTitle').textContent = 'Edit File';
            document.getElementById('modalFileName').value = filePath;
            document.getElementById('modalFileContent').value = content;
            document.getElementById('modalCommitMessage').value = `Update ${filePath}`;
            document.getElementById('fileModal').style.display = 'block';
            
            gitData.editingFile = filePath;
            addGlobalActivity(`Editing ${filePath}`);
        }

        function openNewIssueModal() {
            document.getElementById('issueTitle').value = '';
            document.getElementById('issueDescription').value = '';
            document.getElementById('issueLabel').value = 'bug';
            document.getElementById('issueModal').style.display = 'block';
            addGlobalActivity('New issue modal opened');
        }

        function openNewPRModal() {
            document.getElementById('prTitle').value = '';
            document.getElementById('prDescription').value = '';
            document.getElementById('prBaseBranch').value = 'main';
            document.getElementById('prCompareBranch').value = gitData.currentBranch;
            document.getElementById('prModal').style.display = 'block';
            addGlobalActivity('New pull request modal opened');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // File operations with live tracking
        function saveFile() {
            const fileName = document.getElementById('modalFileName').value.trim();
            const content = document.getElementById('modalFileContent').value;
            const commitMessage = document.getElementById('modalCommitMessage').value.trim();
            
            if (!fileName || !commitMessage) {
                alert('Please provide both file name and commit message');
                return;
            }
            
            const fullPath = gitData.editingFile || ((gitData.currentPath ? gitData.currentPath + '/' : '') + fileName);
            
            gitData.branches[gitData.currentBranch].files[fullPath] = {
                content: content,
                lastModified: new Date(),
                message: commitMessage
            };
            
            const commit = {
                hash: generateHash(),
                message: commitMessage,
                author: 'user',
                date: new Date(),
                changes: [fullPath]
            };
            gitData.branches[gitData.currentBranch].commits.unshift(commit);
            
            closeModal('fileModal');
            renderFileList();
            updateLastCommit();
            hideFileViewer();
            
            const action = gitData.editingFile ? 'updated' : 'created';
            showNotification(`File ${fileName} ${action} successfully`);
            addGlobalActivity(`File ${fileName} ${action}`);
            
            analyticsData.totalChanges++;
            
            // Track contributor activity
            if (!analyticsData.contributorActivity['user']) {
                analyticsData.contributorActivity['user'] = 0;
            }
            analyticsData.contributorActivity['user']++;
        }

        // Issue management
        function renderIssues() {
            const issuesList = document.getElementById('issuesList');
            
            issuesList.innerHTML = gitData.issues.map(issue => `
                <div class="issue-item">
                    <div class="status-indicator ${issue.status === 'open' ? 'status-open' : 'status-closed'}"></div>
                    <div class="item-details">
                        <div class="item-title">#${issue.id} ${issue.title}</div>
                        <div class="item-meta">
                            opened ${formatTime(issue.created)} by ${issue.author} ‚Ä¢ 
                            <span style="background: #21262d; padding: 2px 6px; border-radius: 3px; font-size: 11px;">
                                ${getLabelIcon(issue.label)} ${issue.label}
                            </span>
                        </div>
                    </div>
                    <div class="item-actions">
                        <span style="color: #7d8590; font-size: 12px;">üí¨ ${issue.comments}</span>
                        <button class="btn btn-small" onclick="toggleIssueStatus(${issue.id})">${issue.status === 'open' ? 'Close' : 'Reopen'}</button>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('issueCount').textContent = gitData.issues.filter(i => i.status === 'open').length;
        }

        function createIssue() {
            const title = document.getElementById('issueTitle').value.trim();
            const description = document.getElementById('issueDescription').value.trim();
            const label = document.getElementById('issueLabel').value;
            
            if (!title) {
                alert('Please provide an issue title');
                return;
            }
            
            const issue = {
                id: Math.max(...gitData.issues.map(i => i.id), 0) + 1,
                title: title,
                description: description,
                status: 'open',
                label: label,
                author: 'user',
                created: new Date(),
                comments: 0
            };
            
            gitData.issues.unshift(issue);
            closeModal('issueModal');
            renderIssues();
            showNotification(`Issue #${issue.id} created successfully`);
            addGlobalActivity(`Issue #${issue.id} created: ${title}`);
        }

        function toggleIssueStatus(issueId) {
            const issue = gitData.issues.find(i => i.id === issueId);
            if (issue) {
                issue.status = issue.status === 'open' ? 'closed' : 'open';
                renderIssues();
                showNotification(`Issue #${issueId} ${issue.status}`);
                addGlobalActivity(`Issue #${issueId} ${issue.status}`);
            }
        }

        function filterIssues(filter) {
            const issues = document.querySelectorAll('.issue-item');
            issues.forEach(item => {
                const statusIndicator = item.querySelector('.status-indicator');
                const isOpen = statusIndicator.classList.contains('status-open');
                
                if (filter === 'all' || (filter === 'open' && isOpen) || (filter === 'closed' && !isOpen)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Pull Request management
        function renderPRs() {
            const prList = document.getElementById('prList');
            
            prList.innerHTML = gitData.pullRequests.map(pr => `
                <div class="pr-item">
                    <div class="status-indicator ${pr.status === 'open' ? 'status-open' : 'status-closed'}"></div>
                    <div class="item-details">
                        <div class="item-title">#${pr.id} ${pr.title}</div>
                        <div class="item-meta">
                            opened ${formatTime(pr.created)} by ${pr.author} ‚Ä¢ 
                            wants to merge ${pr.commits} commits into ${pr.baseBranch} from ${pr.compareBranch}
                        </div>
                    </div>
                    <div class="item-actions">
                        <span style="color: #7d8590; font-size: 12px;">üí¨ ${pr.comments} ‚úÖ ${pr.reviews}</span>
                        <button class="btn btn-small" onclick="mergePR(${pr.id})">Merge</button>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('prCount').textContent = gitData.pullRequests.filter(pr => pr.status === 'open').length;
        }

        function createPR() {
            const title = document.getElementById('prTitle').value.trim();
            const description = document.getElementById('prDescription').value.trim();
            const baseBranch = document.getElementById('prBaseBranch').value;
            const compareBranch = document.getElementById('prCompareBranch').value;
            
            if (!title) {
                alert('Please provide a pull request title');
                return;
            }
            
            const pr = {
                id: Math.max(...gitData.pullRequests.map(pr => pr.id), 0) + 1,
                title: title,
                description: description,
                status: 'open',
                author: 'user',
                baseBranch: baseBranch,
                compareBranch: compareBranch,
                created: new Date(),
                commits: Math.floor(Math.random() * 10) + 1,
                comments: 0,
                reviews: 0
            };
            
            gitData.pullRequests.unshift(pr);
            closeModal('prModal');
            renderPRs();
            showNotification(`Pull request #${pr.id} created successfully`);
            addGlobalActivity(`Pull request #${pr.id} created: ${title}`);
        }

        function mergePR(prId) {
            const pr = gitData.pullRequests.find(p => p.id === prId);
            if (pr && confirm(`Merge pull request #${prId}: ${pr.title}?`)) {
                pr.status = 'merged';
                
                const mergeCommit = {
                    hash: generateHash(),
                    message: `Merge pull request #${prId}: ${pr.title}`,
                    author: 'user',
                    date: new Date(),
                    changes: ['multiple files']
                };
                gitData.branches[pr.baseBranch].commits.unshift(mergeCommit);
                
                renderPRs();
                updateLastCommit();
                showNotification(`Pull request #${prId} merged successfully`);
                addGlobalActivity(`Pull request #${prId} merged`);
                
                analyticsData.totalChanges++;
            }
        }

        // Commit management
        function renderCommits() {
            const commitsList = document.getElementById('commitsList');
            const commits = gitData.branches[gitData.currentBranch].commits;
            
            commitsList.innerHTML = commits.map(commit => `
                <div class="commit-item">
                    <div class="commit-avatar">${commit.author.charAt(0).toUpperCase()}</div>
                    <div class="item-details">
                        <div class="item-title">${commit.message}</div>
                        <div class="item-meta">${commit.author} committed ${formatTime(commit.date)}</div>
                    </div>
                    <div class="commit-hash" onclick="showCommitDetails('${commit.hash}')">${commit.hash}</div>
                </div>
            `).join('');
        }

        function showCommitDetails(hash) {
            const commit = gitData.branches[gitData.currentBranch].commits.find(c => c.hash === hash);
            if (commit) {
                alert(`Commit ${hash}\n\nMessage: ${commit.message}\nAuthor: ${commit.author}\nDate: ${commit.date.toLocaleString()}\nFiles changed: ${commit.changes.join(', ')}`);
                addGlobalActivity(`Commit ${hash} details viewed`);
            }
        }

        // Statistics and interactions
        function updateStats() {
            document.getElementById('starCount').textContent = gitData.stats.stars;
            document.getElementById('watchCount').textContent = gitData.stats.watchers;
            document.getElementById('forkCount').textContent = gitData.stats.forks;
        }

        function toggleStar() {
            gitData.userStars = !gitData.userStars;
            gitData.stats.stars += gitData.userStars ? 1 : -1;
            updateStats();
            
            // Visual feedback
            const starStat = document.getElementById('starStat');
            if (gitData.userStars) {
                starStat.classList.add('starred');
                showStarAnimation(starStat);
                analyticsData.starsThisHour++;
            } else {
                starStat.classList.remove('starred');
            }
            
            const action = gitData.userStars ? 'starred' : 'unstarred';
            showNotification(`Repository ${action}`);
            addGlobalActivity(`Repository ${action} by user`);
        }

        function toggleWatch() {
            gitData.userWatching = !gitData.userWatching;
            gitData.stats.watchers += gitData.userWatching ? 1 : -1;
            updateStats();
            
            const watchStat = document.getElementById('watchStat');
            if (gitData.userWatching) {
                watchStat.classList.add('watching');
            } else {
                watchStat.classList.remove('watching');
            }
            
            const action = gitData.userWatching ? 'watching' : 'not watching';
            showNotification(`Now ${action} repository`);
            addGlobalActivity(`User ${action} repository`);
        }

        function showStarAnimation(element) {
            const animation = document.createElement('div');
            animation.className = 'stat-animation';
            animation.textContent = '+1';
            element.style.position = 'relative';
            element.appendChild(animation);
            
            setTimeout(() => {
                if (animation.parentNode) {
                    animation.parentNode.removeChild(animation);
                }
            }, 1000);
        }

        // Analytics functions
        function calculateAnalytics() {
            const currentFiles = gitData.branches[gitData.currentBranch].files;
            analyticsData.totalLines = Object.values(currentFiles).reduce((total, file) => {
                return total + (file.content.split('\n').length || 0);
            }, 0);
        }

        function updateAnalytics() {
            document.getElementById('totalChanges').textContent = analyticsData.totalChanges;
            document.getElementById('totalLines').textContent = analyticsData.totalLines.toLocaleString();
            document.getElementById('activeSessions').textContent = analyticsData.activeSessions;
            document.getElementById('starsThisHour').textContent = analyticsData.starsThisHour;
            
            updateMostActiveFiles();
            updateContributorActivity();
        }

        function updateMostActiveFiles() {
            const container = document.getElementById('mostActiveFiles');
            if (!container) return;

            const sortedFiles = Object.entries(analyticsData.fileActivity)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 5);

            if (sortedFiles.length === 0) {
                container.innerHTML = '<div style="color: #7d8590; font-style: italic;">No file activity yet</div>';
                return;
            }

            container.innerHTML = sortedFiles.map(([file, count]) => `
                <div style="display: flex; justify-content: space-between; padding: 4px 0; border-bottom: 1px solid #30363d;">
                    <span style="color: #539bf5;">üìÑ ${file}</span>
                    <span style="color: #28a745; font-weight: bold;">${count} views</span>
                </div>
            `).join('');
        }

        function updateContributorActivity() {
            const container = document.getElementById('contributorActivity');
            if (!container) return;

            const contributors = Object.entries(analyticsData.contributorActivity)
                .sort(([,a], [,b]) => b - a);

            if (contributors.length === 0) {
                container.innerHTML = '<div style="color: #7d8590; font-style: italic;">No contributor activity yet</div>';
                return;
            }

            container.innerHTML = contributors.map(([contributor, count]) => `
                <div style="display: flex; justify-content: space-between; padding: 4px 0; border-bottom: 1px solid #30363d;">
                    <span style="display: flex; align-items: center; gap: 8px;">
                        <div class="commit-avatar" style="width: 20px; height: 20px; font-size: 10px;">${contributor.charAt(0).toUpperCase()}</div>
                        ${contributor}
                    </span>
                    <span style="color: #28a745; font-weight: bold;">${count} contributions</span>
                </div>
            `).join('');
        }

        function exportAnalytics() {
            const data = {
                timestamp: new Date().toISOString(),
                repository: 'githubception/meta-repository',
                analytics: analyticsData,
                recentActivity: gitData.activities.slice(0, 10)
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'githubception-analytics.json';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Analytics data exported successfully');
            addGlobalActivity('Analytics data exported');
        }

        // Search functionality
        function handleSearch(event) {
            if (event.key === 'Enter') {
                const query = event.target.value.toLowerCase().trim();
                if (query) {
                    performSearch(query);
                    addGlobalActivity(`Searched for: ${query}`);
                }
            }
        }

        function performSearch(query) {
            const results = [];
            const currentFiles = gitData.branches[gitData.currentBranch].files;
            
            Object.keys(currentFiles).forEach(path => {
                if (path.toLowerCase().includes(query) || 
                    currentFiles[path].content.toLowerCase().includes(query)) {
                    results.push({
                        type: 'file',
                        path: path,
                        matches: currentFiles[path].content.toLowerCase().split(query).length - 1
                    });
                }
            });
            
            gitData.issues.forEach(issue => {
                if (issue.title.toLowerCase().includes(query) || 
                    issue.description.toLowerCase().includes(query)) {
                    results.push({
                        type: 'issue',
                        title: issue.title,
                        id: issue.id
                    });
                }
            });

            gitData.branches[gitData.currentBranch].commits.forEach(commit => {
                if (commit.message.toLowerCase().includes(query)) {
                    results.push({
                        type: 'commit',
                        message: commit.message,
                        hash: commit.hash
                    });
                }
            });
            
            if (results.length > 0) {
                let resultText = `Search results for "${query}":\n\n`;
                results.forEach(result => {
                    switch(result.type) {
                        case 'file':
                            resultText += `üìÑ ${result.path} (${result.matches} matches)\n`;
                            break;
                        case 'issue':
                            resultText += `üêõ Issue #${result.id}: ${result.title}\n`;
                            break;
                        case 'commit':
                            resultText += `üìù ${result.hash}: ${result.message}\n`;
                            break;
                    }
                });
                alert(resultText);
            } else {
                showNotification(`No results found for "${query}"`);
            }
        }

        // Utility functions
        function formatTime(date) {
            const now = new Date();
            const diff = now - date;
            const minutes = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            const days = Math.floor(diff / 86400000);
            
            if (minutes < 1) return 'just now';
            if (minutes < 60) return `${minutes} minutes ago`;
            if (hours < 24) return `${hours} hours ago`;
            return `${days} days ago`;
        }

        function generateHash() {
            return Math.random().toString(36).substr(2, 7);
        }

        function getLabelIcon(label) {
            const icons = {
                bug: 'üêõ',
                enhancement: '‚ú®',
                question: '‚ùì',
                documentation: 'üìö'
            };
            return icons[label] || 'üè∑Ô∏è';
        }

        function updateLastCommit() {
            const lastCommit = gitData.branches[gitData.currentBranch].commits[0];
            if (lastCommit) {
                document.getElementById('lastCommit').textContent = `Latest commit: ${formatTime(lastCommit.date)}`;
            }
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            init();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 'k':
                            e.preventDefault();
                            document.getElementById('searchBar').focus();
                            break;
                        case 'n':
                            e.preventDefault();
                            if (e.shiftKey) {
                                openNewFolderModal();
                            } else {
                                openNewFileModal();
                            }
                            break;
                    }
                }
                
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.style.display = 'none';
                    });
                }
            });

            document.getElementById('searchBar').title = 'Press Ctrl+K to focus';
            
            console.log('üåÄ GitHubception Live Edition initialized successfully!');
            console.log('üî¥ Live monitoring active - watch the repository edit itself!');
            console.log('üìä Analytics tracking enabled');
            console.log('üéØ You are now using GitHub to manage GitHub managing itself...');
        });
    </script>
</body>
</html>
